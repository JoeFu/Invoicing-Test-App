{"remainingRequest":"/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/babel-loader/lib/index.js!/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/ts-loader/index.js??ref--14-2!/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/src/views/Invoice.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/src/views/Invoice.vue","mtime":1619973264768},{"path":"/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/cache-loader/dist/cjs.js","mtime":1619755083640},{"path":"/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/babel-loader/lib/index.js","mtime":1619755083636},{"path":"/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/ts-loader/index.js","mtime":1619755092147},{"path":"/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/cache-loader/dist/cjs.js","mtime":1619755083640},{"path":"/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/vue-loader-v16/dist/index.js","mtime":1619755093783}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCB7IGNvbXB1dGVkLCBkZWZpbmVDb21wb25lbnQsIG9uTW91bnRlZCwgcmVhY3RpdmUgfSBmcm9tICJ2dWUiOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJJbnZvaWNlIiwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcykgewogICAgdmFyIHN0YXRlID0gcmVhY3RpdmUoewogICAgICBsaW5lSXRlbXM6IFtdLAogICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgIHF1YW50aXR5OiAiMCIsCiAgICAgIGNvc3Q6ICIwIiwKICAgICAgdG90YWw6ICIwIiwKICAgICAgYmlsbDogIiIKICAgIH0pOwogICAgdmFyIHRvdGFsdmFsdWUgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXN1bHQgPSAwOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5saW5lSXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBzdGF0ZS5saW5lSXRlbXNbaV1bJ3F1YW50aXR5J10gKiBzdGF0ZS5saW5lSXRlbXNbaV1bJ2Nvc3QnXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0pOwogICAgdmFyIHRvdGFsYmlsbGFibGV2YWx1ZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHJlc3VsdCA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmxpbmVJdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChzdGF0ZS5saW5lSXRlbXNbaV1bJ2JpbGwnXSA9PT0gMSkgewogICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgc3RhdGUubGluZUl0ZW1zW2ldWydxdWFudGl0eSddICogc3RhdGUubGluZUl0ZW1zW2ldWydjb3N0J107CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSk7CiAgICB2YXIgdG90YWxudW1iZXJpdGVtcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHJlc3VsdCA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmxpbmVJdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIDE7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9KTsKCiAgICBmdW5jdGlvbiBmZXRjaExpbmVJdGVtcygpIHsKICAgICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9pbnZvaWNlcy8iLmNvbmNhdChwcm9wcy5pZCksIHsKICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGxpbmVJdGVtcykgewogICAgICAgICAgcmV0dXJuIHN0YXRlLmxpbmVJdGVtcyA9IGxpbmVJdGVtczsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gY3JlYXRlTGluZUl0ZW0oKSB7CiAgICAgIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjUwMDAvaW52b2ljZXMvIi5jb25jYXQocHJvcHMuaWQpLCB7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgZGVzY3JpcHRpb246IHN0YXRlLmRlc2NyaXB0aW9uLAogICAgICAgICAgcXVhbnRpdHk6IE51bWJlcihzdGF0ZS5xdWFudGl0eSksCiAgICAgICAgICBjb3N0OiBOdW1iZXIoc3RhdGUuY29zdCksCiAgICAgICAgICBiaWxsOiBOdW1iZXIoc3RhdGUuYmlsbCkKICAgICAgICB9KQogICAgICB9KS50aGVuKGZldGNoTGluZUl0ZW1zKTsKICAgICAgdXBkYXRlVG90YWxJbmZvKCk7CiAgICB9CgogICAgZnVuY3Rpb24gZGVsZXRlTGluZUl0ZW0oZSkgewogICAgICAvLyBjb25zb2xlLmxvZyhlKTsKICAgICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9pbnZvaWNlcy8iLmNvbmNhdChlKSwgewogICAgICAgIG1ldGhvZDogIkRFTEVURSIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgaWQ6IGUKICAgICAgICB9KQogICAgICB9KS50aGVuKGZldGNoTGluZUl0ZW1zKTsKICAgICAgdXBkYXRlVG90YWxJbmZvKCk7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlVG90YWxJbmZvKCkgewogICAgICBjb25zb2xlLmxvZyh0b3RhbHZhbHVlLnZhbHVlKTsKICAgICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9pbnZvaWNlcy8iLmNvbmNhdChwcm9wcy5pZCksIHsKICAgICAgICBtZXRob2Q6ICJQVVQiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHRvdGFsVmFsdWU6IE51bWJlcih0b3RhbHZhbHVlLnZhbHVlKSwKICAgICAgICAgIHRvdGFsQmlsbGFibGVWYWx1ZTogTnVtYmVyKHRvdGFsYmlsbGFibGV2YWx1ZS52YWx1ZSksCiAgICAgICAgICB0b3RhbE51bWJlckxpbmVJdGVtczogTnVtYmVyKHRvdGFsbnVtYmVyaXRlbXMudmFsdWUpCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9CgogICAgb25Nb3VudGVkKGZldGNoTGluZUl0ZW1zKTsKICAgIHJldHVybiB7CiAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgY3JlYXRlTGluZUl0ZW06IGNyZWF0ZUxpbmVJdGVtLAogICAgICBkZWxldGVMaW5lSXRlbTogZGVsZXRlTGluZUl0ZW0sCiAgICAgIHRvdGFsdmFsdWU6IHRvdGFsdmFsdWUsCiAgICAgIHRvdGFsYmlsbGFibGV2YWx1ZTogdG90YWxiaWxsYWJsZXZhbHVlLAogICAgICB0b3RhbG51bWJlcml0ZW1zOiB0b3RhbG51bWJlcml0ZW1zCiAgICB9OwogIH0sCiAgbWV0aG9kczoge30sCiAgY29tcHV0ZWQ6IHt9Cn0pOw=="},{"version":3,"sources":["/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/joe/Documents/Invoicing-Test-App/AndreyevInterview/AndreyevInterview/andreyev-interview/src/views/Invoice.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport { computed, defineComponent, onMounted, reactive} from \"vue\";\n\nexport default defineComponent({\n\n  name: \"Invoice\",\n\n  props: {\n    id: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n  setup(props) {\n    const state = reactive({\n      lineItems: [],\n      description: \"\",\n      quantity: \"0\",\n      cost: \"0\",\n      total: \"0\",\n      bill:\"\",\n    });\n\n    const totalvalue = computed(()=>{\n      let result =0;\n      for (let i=0;i<state.lineItems.length;i++){\n        result = result + state.lineItems[i]['quantity'] * state.lineItems[i]['cost'];\n      }\n      return result;\n    })\n\n    const totalbillablevalue = computed(()=>{\n      let result =0;\n      for (let i=0;i<state.lineItems.length;i++){\n        if(state.lineItems[i]['bill'] === 1)\n        {\n          result = result + state.lineItems[i]['quantity'] * state.lineItems[i]['cost'];\n        } \n      }\n      return result;  \n\n    })\n\n    const totalnumberitems = computed(()=>{\n      let result =0;\n      for (let i=0;i<state.lineItems.length;i++){\n        result = result +1;\n      }\n      return result;\n\n    })\n\n    function fetchLineItems() {\n      fetch(`http://localhost:5000/invoices/${props.id}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }).then((response) => {\n        response.json().then((lineItems) => (state.lineItems = lineItems));\n      });\n    }\n    function createLineItem() {\n      fetch(`http://localhost:5000/invoices/${props.id}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          description: state.description,\n          quantity: Number(state.quantity),\n          cost: Number(state.cost),\n          bill: Number(state.bill),\n        }),\n      }).then(fetchLineItems);\n      updateTotalInfo();\n    }\n\n    function deleteLineItem(e:Number)\n    {\n\n        // console.log(e);\n\n        fetch(`http://localhost:5000/invoices/${e}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          id:e\n        }),\n      }).then(fetchLineItems);\n      updateTotalInfo();\n    }\n\n    function updateTotalInfo(){\n\n\n      console.log(totalvalue.value);\n      \n      fetch(`http://localhost:5000/invoices/${props.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          totalValue: Number(totalvalue.value),\n          totalBillableValue: Number(totalbillablevalue.value),\n          totalNumberLineItems: Number(totalnumberitems.value),\n        }),\n      });\n \n    }\n    onMounted(fetchLineItems);\n    return { state, createLineItem, deleteLineItem, totalvalue,totalbillablevalue,totalnumberitems};\n  },\n\n  \n  methods:{\n  },\n  computed:{\n\n  },\n});\n"],"sourceRoot":""}]}